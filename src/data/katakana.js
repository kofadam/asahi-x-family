// Katakana characters organized by learning progression
export const katakanaData = {
  // Basic vowels - start here
  vowels: [
    { katakana: 'ã‚¢', romaji: 'a', sound: '/a/' },
    { katakana: 'ã‚¤', romaji: 'i', sound: '/i/' },
    { katakana: 'ã‚¦', romaji: 'u', sound: '/É¯/' },
    { katakana: 'ã‚¨', romaji: 'e', sound: '/e/' },
    { katakana: 'ã‚ª', romaji: 'o', sound: '/o/' }
  ],

  // K-sounds (ka, ki, ku, ke, ko)
  kSounds: [
    { katakana: 'ã‚«', romaji: 'ka', sound: '/ka/' },
    { katakana: 'ã‚­', romaji: 'ki', sound: '/ki/' },
    { katakana: 'ã‚¯', romaji: 'ku', sound: '/kÉ¯/' },
    { katakana: 'ã‚±', romaji: 'ke', sound: '/ke/' },
    { katakana: 'ã‚³', romaji: 'ko', sound: '/ko/' }
  ],

  // S-sounds
  sSounds: [
    { katakana: 'ã‚µ', romaji: 'sa', sound: '/sa/' },
    { katakana: 'ã‚·', romaji: 'shi', sound: '/Êƒi/' },
    { katakana: 'ã‚¹', romaji: 'su', sound: '/sÉ¯/' },
    { katakana: 'ã‚»', romaji: 'se', sound: '/se/' },
    { katakana: 'ã‚½', romaji: 'so', sound: '/so/' }
  ],

  // T-sounds
  tSounds: [
    { katakana: 'ã‚¿', romaji: 'ta', sound: '/ta/' },
    { katakana: 'ãƒ', romaji: 'chi', sound: '/tÊƒi/' },
    { katakana: 'ãƒ„', romaji: 'tsu', sound: '/tsÉ¯/' },
    { katakana: 'ãƒ†', romaji: 'te', sound: '/te/' },
    { katakana: 'ãƒˆ', romaji: 'to', sound: '/to/' }
  ],

  // N-sounds
  nSounds: [
    { katakana: 'ãƒŠ', romaji: 'na', sound: '/na/' },
    { katakana: 'ãƒ‹', romaji: 'ni', sound: '/ni/' },
    { katakana: 'ãƒŒ', romaji: 'nu', sound: '/nÉ¯/' },
    { katakana: 'ãƒ', romaji: 'ne', sound: '/ne/' },
    { katakana: 'ãƒŽ', romaji: 'no', sound: '/no/' }
  ],

  // H-sounds
  hSounds: [
    { katakana: 'ãƒ', romaji: 'ha', sound: '/ha/' },
    { katakana: 'ãƒ’', romaji: 'hi', sound: '/hi/' },
    { katakana: 'ãƒ•', romaji: 'fu', sound: '/É¸É¯/' },
    { katakana: 'ãƒ˜', romaji: 'he', sound: '/he/' },
    { katakana: 'ãƒ›', romaji: 'ho', sound: '/ho/' }
  ],

  // M-sounds
  mSounds: [
    { katakana: 'ãƒž', romaji: 'ma', sound: '/ma/' },
    { katakana: 'ãƒŸ', romaji: 'mi', sound: '/mi/' },
    { katakana: 'ãƒ ', romaji: 'mu', sound: '/mÉ¯/' },
    { katakana: 'ãƒ¡', romaji: 'me', sound: '/me/' },
    { katakana: 'ãƒ¢', romaji: 'mo', sound: '/mo/' }
  ],

  // Y-sounds
  ySounds: [
    { katakana: 'ãƒ¤', romaji: 'ya', sound: '/ja/' },
    { katakana: 'ãƒ¦', romaji: 'yu', sound: '/jÉ¯/' },
    { katakana: 'ãƒ¨', romaji: 'yo', sound: '/jo/' }
  ],

  // R-sounds
  rSounds: [
    { katakana: 'ãƒ©', romaji: 'ra', sound: '/É¾a/' },
    { katakana: 'ãƒª', romaji: 'ri', sound: '/É¾i/' },
    { katakana: 'ãƒ«', romaji: 'ru', sound: '/É¾É¯/' },
    { katakana: 'ãƒ¬', romaji: 're', sound: '/É¾e/' },
    { katakana: 'ãƒ­', romaji: 'ro', sound: '/É¾o/' }
  ],

  // W-sounds and N
  misc: [
    { katakana: 'ãƒ¯', romaji: 'wa', sound: '/wa/' },
    { katakana: 'ãƒ²', romaji: 'wo', sound: '/wo/' },
    { katakana: 'ãƒ³', romaji: 'n', sound: '/n/' }
  ]
}

// Anime-inspired katakana words for practice
export const katakanaWords = {
  beginner: [
    { katakana: 'ã‚¢ãƒ‹ãƒ¡', romaji: 'anime', english: 'anime', animeContext: 'ðŸŽŒ The word that started it all!' },
    { katakana: 'ãƒžãƒ³ã‚¬', romaji: 'manga', english: 'manga', animeContext: 'ðŸ“š Japanese comics you love' },
    { katakana: 'ãƒ’ãƒ¼ãƒ­ãƒ¼', romaji: 'hiiroo', english: 'hero', animeContext: 'ðŸ¦¸ Like your favorite anime protagonists' },
    { katakana: 'ã‚«ãƒ¡ãƒ©', romaji: 'kamera', english: 'camera', animeContext: 'ðŸ“¸ For taking photos at Akihabara!' },
    { katakana: 'ã‚³ãƒ¼ãƒ’ãƒ¼', romaji: 'koohii', english: 'coffee', animeContext: 'â˜• Fuel for anime marathons' },
    { katakana: 'ã‚²ãƒ¼ãƒ ', romaji: 'geemu', english: 'game', animeContext: 'ðŸŽ® Japanese video games' },
    { katakana: 'ãƒ•ã‚£ã‚®ãƒ¥ã‚¢', romaji: 'figyua', english: 'figure', animeContext: 'ðŸ—¿ Anime character figures' },
    { katakana: 'ã‚³ã‚¹ãƒ—ãƒ¬', romaji: 'kosupure', english: 'cosplay', animeContext: 'ðŸ‘˜ Dressing as anime characters' }
  ],

  intermediate: [
    { katakana: 'ã‚¢ã‚­ãƒãƒãƒ©', romaji: 'akihabara', english: 'Akihabara', animeContext: 'ðŸ™ï¸ Tokyo\'s anime district' },
    { katakana: 'ã‚ªã‚¿ã‚¯', romaji: 'otaku', english: 'otaku', animeContext: 'ðŸ¤“ Passionate anime fan (wear it proudly!)' },
    { katakana: 'ãƒ©ã‚¤ãƒˆãƒŽãƒ™ãƒ«', romaji: 'raito noberu', english: 'light novel', animeContext: 'ðŸ“– Source material for many anime' },
    { katakana: 'ãƒœãƒ¼ã‚«ãƒ­ã‚¤ãƒ‰', romaji: 'bookaroido', english: 'Vocaloid', animeContext: 'ðŸŽµ Like Hatsune Miku!' },
    { katakana: 'ã‚¤ãƒ™ãƒ³ãƒˆ', romaji: 'ibento', english: 'event', animeContext: 'ðŸŽª Anime conventions and festivals' }
  ],

  animeSpecific: [
    { katakana: 'ãƒŠãƒ«ãƒˆ', romaji: 'naruto', english: 'Naruto', animeContext: 'ðŸ¥ The ninja who never gives up' },
    { katakana: 'ãƒ”ã‚«ãƒãƒ¥ã‚¦', romaji: 'pikachuu', english: 'Pikachu', animeContext: 'âš¡ Everyone\'s favorite electric mouse' },
    { katakana: 'ãƒ‰ãƒ©ã‚´ãƒ³ãƒœãƒ¼ãƒ«', romaji: 'doragon booru', english: 'Dragon Ball', animeContext: 'ðŸ‰ Classic battle anime' },
    { katakana: 'ã‚¬ãƒ³ãƒ€ãƒ ', romaji: 'gandamu', english: 'Gundam', animeContext: 'ðŸ¤– Giant mecha series' },
    { katakana: 'ã‚»ãƒ¼ãƒ©ãƒ¼ãƒ ãƒ¼ãƒ³', romaji: 'seeraa muun', english: 'Sailor Moon', animeContext: 'ðŸŒ™ Magical girl classic' }
  ]
}

// Generate random katakana for practice
export const getRandomKatakana = (groups = ['vowels']) => {
  const selectedChars = []
  groups.forEach(group => {
    if (katakanaData[group]) {
      selectedChars.push(...katakanaData[group])
    }
  })
  return selectedChars[Math.floor(Math.random() * selectedChars.length)]
}

// Generate practice sets with better distribution
export const generatePracticeSet = (groups, count = 10) => {
  const chars = []
  groups.forEach(group => {
    if (katakanaData[group]) {
      chars.push(...katakanaData[group])
    }
  })

  const practiceSet = []

  // First, ensure each character appears at least once if count >= chars.length
  if (count >= chars.length) {
    // Add each character once
    practiceSet.push(...chars)
    // Fill remaining slots
    const remaining = count - chars.length
    for (let i = 0; i < remaining; i++) {
      const randomChar = chars[Math.floor(Math.random() * chars.length)]
      practiceSet.push(randomChar)
    }
  } else {
    // For smaller counts, select random characters avoiding immediate repetition
    for (let i = 0; i < count; i++) {
      let attempts = 0
      let randomChar
      do {
        randomChar = chars[Math.floor(Math.random() * chars.length)]
        attempts++
      } while (attempts < 10 && i > 0 && practiceSet[i - 1].romaji === randomChar.romaji)

      practiceSet.push(randomChar)
    }
  }

  // Shuffle the array to randomize order while maintaining distribution
  return practiceSet.sort(() => Math.random() - 0.5)
}